#application-docker.properties
spring.application.name=api-gateway
server.port=8080

jwt.secret.key=j2eemicroservice123123dasdj21ue120938219321ndsad

# secret dùng ?? xác th?c request n?i b? t? api-gateway
app.internal.secret=my-internal-key-j2ee-microservice

# ===============================
# EUREKA CLIENT CONFIG
# ===============================
eureka.client.service-url.defaultZone=http://eureka-service-1:8761/eureka/,http://eureka-service-2:8762/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true
eureka.instance.hostname=${spring.application.name}

# ===============================
# GATEWAY CONFIG
# ===============================
spring.cloud.gateway.server.webflux.discovery.locator.enabled=true
spring.cloud.gateway.server.webflux.discovery.locator.lower-case-service-id=true

# --- USER / AUTH SERVICE / ADMIN ---
spring.cloud.gateway.server.webflux.routes[0].id=user-service-auth
spring.cloud.gateway.server.webflux.routes[0].uri=lb://USER-SERVICE
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/api/v1/auth/**

spring.cloud.gateway.server.webflux.routes[1].id=user-service-test
spring.cloud.gateway.server.webflux.routes[1].uri=lb://USER-SERVICE
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/users/**

spring.cloud.gateway.server.webflux.routes[2].id=user-service-admin-users
spring.cloud.gateway.server.webflux.routes[2].uri=lb://USER-SERVICE
spring.cloud.gateway.server.webflux.routes[2].predicates[0]=Path=/api/v1/admin/users/**

spring.cloud.gateway.server.webflux.routes[3].id=user-service-user
spring.cloud.gateway.server.webflux.routes[3].uri=lb://USER-SERVICE
spring.cloud.gateway.server.webflux.routes[3].predicates[0]=Path=/api/v1/user/**

# --- TOUR SERVICE ---
spring.cloud.gateway.server.webflux.routes[4].id=tour-service-admin-days
spring.cloud.gateway.server.webflux.routes[4].uri=lb://TOUR-SERVICE
spring.cloud.gateway.server.webflux.routes[4].predicates[0]=Path=/api/v1/admin/tours/**

# --- SLOT SERVICE ---
spring.cloud.gateway.server.webflux.routes[5].id=slot-service
spring.cloud.gateway.server.webflux.routes[5].uri=lb://SLOT-SERVICE
spring.cloud.gateway.server.webflux.routes[5].predicates[0]=Path=/slots/**

# --- BOOKING SERVICE ---
spring.cloud.gateway.server.webflux.routes[6].id=booking-service
spring.cloud.gateway.server.webflux.routes[6].uri=lb://BOOKING-SERVICE
spring.cloud.gateway.server.webflux.routes[6].predicates[0]=Path=/bookings/**

# --- AREA SERVICE ---
spring.cloud.gateway.server.webflux.routes[7].id=area-service
spring.cloud.gateway.server.webflux.routes[7].uri=lb://AREA-SERVICE
spring.cloud.gateway.server.webflux.routes[7].predicates[0]=Path=/api/v1/admin/**

# ===============================
# OAuth2 ROUTES (C?n cho lu?ng Google)
# ===============================

## Route 6: Callback t? Google (S? d?ng ** ?? b?t t?t c? các ph?n h?i t? Google)
#spring.cloud.gateway.server.webflux.routes[6].id=user-service-oauth-callback
#spring.cloud.gateway.server.webflux.routes[6].uri=lb://USER-SERVICE
#spring.cloud.gateway.server.webflux.routes[6].predicates[0]=Path=/login/oauth2/**
#
## Route 7: Kh?i t?o lu?ng OAuth2 (Chuy?n h??ng ??n Google)
#spring.cloud.gateway.server.webflux.routes[7].id=user-service-oauth-init
#spring.cloud.gateway.server.webflux.routes[7].uri=lb://USER-SERVICE
#spring.cloud.gateway.server.webflux.routes[7].predicates[0]=Path=/oauth2/**

